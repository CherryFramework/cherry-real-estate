!function(o){o.fn.RELocations=function(n){function e(){var n,e,a,l,p=[],d="tm-re-map-loading";if(r.hasOwnProperty("styles")&&"string"==typeof r.styles&&(r.styles=o.parseJSON(r.styles)),r.hasOwnProperty("sourceselector")&&(p=o("#"+r.sourceselector).children()),n=p.length,null===r.address&&!n)return!1;if(i(),e=new google.maps.Map(s[0],r),a=new google.maps.Geocoder,l=new google.maps.LatLngBounds,google.maps.event.addListenerOnce(e,"idle",function(){e.fitBounds(l),n&&1!==n||e.setZoom(r.zoom),s.hasClass(d)&&s.removeClass(d)}),null!==r.infowindow&&(infowindow=new google.maps.InfoWindow(r.infowindow)),null===r.address)p.each(function(n,i){t(e,a,l,o(i))});else for(key in r.address)t(e,a,l,r.address[key])}function t(n,e,t,i){var s=i,a="";return"object"==typeof i&&(s=i.data("property-address"),a=i[0].outerHTML),void 0===s?!1:(s=String(s),void e.geocode({address:s},function(e,s){if(s===google.maps.GeocoderStatus.OK){var l,p=e[0].geometry.location,d=(e[0].place_id,r.hasOwnProperty("animation")?r.animation:"");t.extend(p),l=new google.maps.Marker({map:n,draggable:!1,animation:google.maps.Animation[d],position:p,icon:r.hasOwnProperty("icon")?r.icon:"",html:a}),null!==r.infowindow&&(google.maps.event.addListener(l,"click",function(){infowindow.setContent(this.html),infowindow.open(n,this)}),google.maps.event.addListener(infowindow,"domready",function(){var n=i.attr("class").split(" ").join(".");o("."+n).closest(".gm-style-iw").parent().addClass("tm-re-iw")}))}}))}function i(){if(r.hasOwnProperty("mapTypeControlOptions")){var o={style:google.maps.MapTypeControlStyle[r.mapTypeControlOptions.style],position:google.maps.ControlPosition[r.mapTypeControlOptions.position]};r.mapTypeControlOptions=o}if(r.hasOwnProperty("zoomControlOptions")){var n={position:google.maps.ControlPosition[r.zoomControlOptions.position]};r.zoomControlOptions=n}if(r.hasOwnProperty("streetViewControlOptions")){var e={position:google.maps.ControlPosition[r.streetViewControlOptions.position]};r.streetViewControlOptions=e}}var s=o(this),r={zoom:5,infowindow:null,address:null};o.extend(r,n),e()}}(jQuery);