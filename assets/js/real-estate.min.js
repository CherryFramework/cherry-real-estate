!function(r){"use strict";CherryJsCore.utilites.namespace("cherryRealEstate"),CherryJsCore.cherryRealEstate={start:function(){var r=this;CherryJsCore.status.is_ready?r.documentReady(r):CherryJsCore.variable.$document.on("ready",r.documentReady(r))},documentReady:function(r){r.gallery(r),r.submissionForm(r)},gallery:function(){function e(r,e){var s=r.data("id");return e=e||r.data("atts"),new Swiper("#"+s,e)}r(".tm-property-gallery-js").each(function(){var s=r(this),a=s.data("atts");if(!r.isFunction(jQuery.fn.swiper)||!s.length)return!1;if(a.hasOwnProperty("group")){var t,o=a.group,n={};for(t in o)n[t]=e(r(o[t]));n.top.params.control=n.thumbs,n.thumbs.params.control=n.top}else e(s,a)})},submissionForm:function(){function e(e){var s=e.serializeArray(),a=e.find('input[name="tm-re-submissionform-nonce"]').val(),t=e.find(".tm-re-submission-form__error"),o=e.find(".tm-re-submission-form__success"),n="processing",i="tm-re-hidden";return e.hasClass(n)?!1:(e.addClass(n),t.empty(),t.hasClass(i)||t.addClass(i),o.hasClass(i)||o.addClass(i),void r.ajax({url:CherryREData.ajaxurl,type:"post",dataType:"json",data:{action:"submission_form",nonce:a,property:s},error:function(){e.removeClass(n)}}).done(function(r){return console.log(r),e.removeClass(n),!0===r.success?(o.removeClass(i),1):(t.removeClass(i).html(r.data.message),!1)}))}var s=r("#tm-re-submissionform");return r.isFunction(jQuery.fn.validate)&&s.length?void s.validate({debug:!0,messages:{property_title:CherryREData.messages,property_description:CherryREData.messages,property_price:CherryREData.messages,property_status:CherryREData.messages,property_type:CherryREData.messages,property_address:CherryREData.messages,property_bedrooms:CherryREData.messages,property_bathrooms:CherryREData.messages,property_area:CherryREData.messages,property_parking_places:CherryREData.messages,property_address:CherryREData.messages,agent_email:CherryREData.messages,agent_phone:CherryREData.messages},rules:{property_price:{number:!0},property_area:{number:!0},property_bedrooms:{digits:!0},property_bathrooms:{digits:!0},property_parking_places:{digits:!0}},errorClass:"tm-re-submission-form__error",pendingClass:"tm-re-submission-form__pending",validClass:"tm-re-submission-form__valid",errorElement:"span",highlight:function(e){r(e).fadeOut(function(){r(e).fadeIn().addClass("error")})},submitHandler:function(s){e(r(s))}}):!1}},CherryJsCore.cherryRealEstate.start()}(jQuery);